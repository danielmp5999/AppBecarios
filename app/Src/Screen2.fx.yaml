"Screen2 As screen.'autoLayout_Sidebar_ver1.0'":

    ScreenContainer1 As groupContainer.verticalAutoLayoutContainer:
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =16
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =16
        PaddingLeft: =16
        PaddingRight: =16
        PaddingTop: =16
        Width: =Parent.Width
        ZIndex: =1

        HeaderContainer1 As groupContainer.horizontalAutoLayoutContainer:
            ContentLanguage: ="" 
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =75
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            ZIndex: =2

            Label1 As label:
                Text: |-
                    ="Bienvenido: "&User().FullName
                Width: =400
                ZIndex: =1

            Label7 As label:
                Text: |-
                    ="Horas Acumuladas: " & LookUp(Becarios,Becario.Email = User().Email).HorasTotales & "
                    Minutos Acumulados: " &LookUp(Becarios,Becario.Email = User().Email).MinutosTotales
                Width: =250
                ZIndex: =2

            Label8 As label:
                Text: |-
                    ="Horas: "&difHoras
                ZIndex: =3

            Label9 As label:
                Text: |-
                    ="Minutos: "&difMinutos
                ZIndex: =4

            Label10 As label:
                Text: |-
                    ="Horario día "&Text(Today(),"dddd","es-MX")&" 
                    "&
                    LookUp(Horarios,And(Becario.Email = User().Email,Dia.Value = Text(Today(),"dddd","es-MX")),
                    HoraInicio).Value&" a "&LookUp(Horarios,And(Becario.Email = User().Email,Dia.Value = Text(Today(),"dddd","es-MX")),
                    HoraFin).Value
                Width: =300
                ZIndex: =5

        BottomContainer1 As groupContainer.horizontalAutoLayoutContainer:
            DropShadow: =DropShadow.None
            Fill: =RGBA(245, 245, 245, 1)
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutGap: =16
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutWrap: =true
            PaddingBottom: =2
            PaddingLeft: =2
            PaddingRight: =2
            PaddingTop: =2
            Width: =Parent.Width
            ZIndex: =3

            SidebarContainer1 As groupContainer.verticalAutoLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =3
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =8
                RadiusBottomRight: =8
                RadiusTopLeft: =8
                RadiusTopRight: =8
                Width: =Parent.Width
                ZIndex: =4

                "Gallery1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                    DelayItemLoading: =true
                    Items: =colSideMenu
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =287
                    LayoutMinWidth: =320
                    LoadingSpinner: =LoadingSpinner.Data
                    OnSelect: |+
                        =If(Gallery1.Selected.id = 1,
                            Refresh(Becarios);
                            Refresh(Bitacora);
                            Refresh(Horarios);
                            Refresh('RegistroEntrada/Salida');
                            Collect(colReg,{
                                ID: 1,
                                'Created By': "",
                                Entrada: "",
                                Salida: "", 
                                ValidacionText: "",
                                Id_Actividad: LookUp(Bitacora,ID=0)        
                            }); 
                            Clear(colReg);
                            ForAll(Filter('RegistroEntrada/Salida','Created By'.Email=User().Email, ValidacionText = Text(Today(), "dd/mm/yyyy")),
                                Patch(colReg,Defaults(colReg),
                                    {
                                        ID: ID,
                                        'Created By': 'Created By'.Email,
                                        Entrada: HoraEntrada,
                                        Salida: HoraSalida,
                                        ValidacionText: ValidacionText,
                                        Id_Actividad: LookUp(Bitacora,ID=0)
                                    }
                                )
                            );/*
                            Set(aux, LookUp(colReg,
                                And( 
                                    ValidacionText = Text(Today(), "dd/mm/yyyy")
                                ),SalidaComida
                            )
                                );*/
                            
                            Set(VarEntrada, 
                                Value(
                                    Left(
                                        LookUp(Horarios, And(Becario.Email = User().Email, Dia.Value = Text(Today(),"dddd","es-MX")),HoraInicio).Value
                                        ,2
                                    )
                                )
                            );
                            Set(VarSalida, 
                                Value(
                                    Left(
                                        LookUp(Horarios, And(Becario.Email = User().Email, Dia.Value = Text(Today(),"dddd","es-MX")),HoraFin).Value
                                        ,2
                                    )
                                )
                            )   
                            ,
                            If(
                            Gallery1.Selected.id = 2,
                            Gallery1.Selected.id = 2;
                            Refresh(Becarios);
                            Refresh(Bitacora);
                            Refresh(Horarios);
                            Refresh('RegistroEntrada/Salida');
                            Set(varEditForm, false);
                            Set(varEditForm1, true);
                            Set(varEditForm2, false);
                            Set(varEditForm3, false);
                            Set(varEditForm4, false);
                            Set(varEditForm5, false)
                            ,
                        
                        
                            Gallery1.Selected.id = 3;
                            Refresh(Becarios);
                            Refresh(Bitacora);
                            Refresh(Horarios);
                            Refresh('RegistroEntrada/Salida');
                            Set(varEditForm, false);
                            Set(varEditForm1, false);
                            Set(varEditForm2, false);
                            Set(varEditForm3, false);
                            Set(varEditForm4, false);
                            Set(varEditForm5, false);
                            NewForm(Form5)    
                            )
                        );
                        
                        
                        
                        
                        
                    TemplatePadding: =0
                    TemplateSize: =50
                    ZIndex: =1

                    Title1 As label:
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =ThisItem.label
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - 173
                        X: =20
                        Y: =(Parent.TemplateHeight - (Self.Size * 1.8 )) / 2
                        ZIndex: =2

                    NextArrow1 As icon.ChevronRight:
                        AccessibleLabel: =Self.Tooltip
                        Color: =RGBA(166, 166, 166, 1)
                        Height: =50
                        Icon: =Icon.ChevronRight
                        OnSelect: =Select(Parent)
                        PaddingBottom: =16
                        PaddingLeft: =16
                        PaddingRight: =16
                        PaddingTop: =16
                        Tooltip: ="View item details"
                        Width: =50
                        X: =Parent.TemplateWidth - Self.Width - 12
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =4

                    Separator1 As rectangle:
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Rectangle1 As rectangle:
                        Height: =Parent.TemplateHeight - Separator1.Height
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =6

            MainContainer1 As groupContainer.verticalAutoLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =7
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =8
                RadiusBottomRight: =8
                RadiusTopLeft: =8
                RadiusTopRight: =8
                Width: =Parent.Width
                ZIndex: =5

                Container13 As groupContainer.verticalAutoLayoutContainer:
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =If(And(Gallery1.Selected.id = 2,varEditForm1), true, false)
                    ZIndex: =1

                    Agregar As button:
                        AlignInContainer: =AlignInContainer.Stretch
                        DisplayMode: |
                            =If(IsBlank(LookUp('RegistroEntrada/Salida',
                                And(
                                    'Created By'.Email=User().Email,
                                    ValidacionText = 
                                    Text(
                                        Today(),
                                        "dd/mm/yyyy",
                                        "es-MX"
                                    )
                                )).Id_Actividad),
                                DisplayMode.Edit,
                                DisplayMode.Disabled
                            )
                        OnSelect: |
                            =Set(varEditForm, true);
                            Set(varEditForm1, false);
                            ResetForm(Form2);
                            NewForm(Form2);
                        Text: ="Agregar"
                        Visible: =If(And(Gallery1.Selected.id = 2,varEditForm1), true, false)
                        ZIndex: =1

                    Container15 As groupContainer.horizontalAutoLayoutContainer:
                        FillPortions: =0
                        Height: =100
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =10
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        Visible: =If(And(Gallery1.Selected.id = 2,varEditForm1), true, false)
                        ZIndex: =3

                        Form5 As form:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            DataSource: =Bitacora
                            DefaultMode: =FormMode.New
                            FillPortions: =0
                            Height: =100
                            LayoutMinHeight: =250
                            LayoutMinWidth: =400
                            ZIndex: =1

                            "'Creado por_DataCard2' As typedDataCard.comboBoxViewCard":
                                BorderStyle: =BorderStyle.Solid
                                DataField: ="Author"
                                Default: |-
                                    =ThisItem.'Created By'
                                    //LookUp(Bitacora;'Creado por'.Email=User().Email)
                                DisplayMode: =DisplayMode.Edit
                                DisplayName: =DataSourceInfo([@Bitacora],DataSourceInfo.DisplayName,"Author")
                                Fill: =RGBA(0, 0, 0, 0)
                                Height: =50
                                Required: =false
                                Update: =DataCardValue20.Selected
                                Width: =266
                                X: =0
                                Y: =0
                                ZIndex: =1

                                DataCardKey20 As label:
                                    AutoHeight: =true
                                    Height: =34
                                    Text: =Parent.DisplayName
                                    Width: =Parent.Width - 60
                                    Wrap: =false
                                    X: =30
                                    Y: =10
                                    ZIndex: =1

                                DataCardValue20 As combobox:
                                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                    DefaultSelectedItems: |-
                                        =//LookUp(Bitacora;'Creado por'.Email=User().Email)
                                        //Parent.Default
                                        // si es usuario ejecutar lookup, si es admin ejecuta el parent default
                                        If(varisAdmin,Parent.Default,LookUp(Bitacora,'Created By'.Email=User().Email).'Created By')
                                    DisplayFields: =["DisplayName"]
                                    DisplayMode: |-
                                        =//Parent.DisplayMode
                                        //si eres usuario display view, si eres admin sea display edit 
                                        If(varisAdmin,DisplayMode.Edit,DisplayMode.View)
                                    Items: =Choices([@Bitacora].'Created By')
                                    OnSelect: |-
                                        =ClearCollect(Filtros, 
                                            {
                                                Becario:DataCardValue20.Selected.DisplayName,
                                                Fecha: DataCardValue17.SelectedDate,
                                                Asigno: DataCardValue12.Selected.DisplayName        
                                            }      
                                        )
                                        
                                        
                                        
                                        
                                                    
                                                   
                                            
                                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                    SearchFields: =["DisplayName"]
                                    SearchItems: =Choices(Bitacora.'Created By',DataCardValue20.SearchText)
                                    SelectMultiple: =false
                                    Width: =Parent.Width - 60
                                    X: =30
                                    Y: =DataCardKey20.Y + DataCardKey20.Height + 5
                                    ZIndex: =2

                                ErrorMessage20 As label:
                                    AutoHeight: =true
                                    Height: =10
                                    Live: =Live.Assertive
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Text: =Parent.Error
                                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                                    Width: =Parent.Width - 60
                                    X: =30
                                    Y: =DataCardValue20.Y + DataCardValue20.Height
                                    ZIndex: =3

                                StarVisible20 As label:
                                    Align: =Align.Center
                                    Height: =DataCardKey20.Height
                                    Text: ="*"
                                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                    Width: =30
                                    Wrap: =false
                                    Y: =DataCardKey20.Y
                                    ZIndex: =4

                            "'¿Quién asignó?_DataCard2' As typedDataCard.comboBoxEditCard":
                                BorderStyle: =BorderStyle.Solid
                                DataField: ="OData__x00bf_Qui_x00e9_nasign_x00f3__x"
                                Default: =ThisItem.'¿Quién asignó?'
                                DisplayMode: =Parent.DisplayMode
                                DisplayName: =DataSourceInfo([@Bitacora],DataSourceInfo.DisplayName,"OData__x00bf_Qui_x00e9_nasign_x00f3__x")
                                Fill: =RGBA(0, 0, 0, 0)
                                Height: =50
                                Required: =false
                                Update: =DataCardValue12.Selected
                                Width: =266
                                X: =1
                                Y: =0
                                ZIndex: =2

                                DataCardKey12 As label:
                                    AutoHeight: =true
                                    Height: =34
                                    Text: =Parent.DisplayName
                                    Width: =Parent.Width - 60
                                    Wrap: =false
                                    X: =30
                                    Y: =10
                                    ZIndex: =1

                                DataCardValue12 As combobox:
                                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                    DefaultSelectedItems: =Parent.Default
                                    DisplayFields: =["DisplayName"]
                                    DisplayMode: =Parent.DisplayMode
                                    Items: =Choices([@Bitacora].'¿Quién asignó?')
                                    OnSelect: |-
                                        =ClearCollect(Filtros, 
                                            {
                                                Becario:DataCardValue20.Selected.DisplayName,
                                                Fecha: DataCardValue17.SelectedDate,
                                                Asigno: DataCardValue12.Selected.DisplayName        
                                            }      
                                        )
                                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                    SearchFields: =["DisplayName"]
                                    SearchItems: =Choices(Bitacora.'¿Quién asignó?',DataCardValue12.SearchText)
                                    SelectMultiple: =false
                                    Tooltip: =Parent.DisplayName
                                    Width: =Parent.Width - 60
                                    X: =30
                                    Y: =DataCardKey12.Y + DataCardKey12.Height + 5
                                    ZIndex: =2

                                ErrorMessage12 As label:
                                    AutoHeight: =true
                                    Height: =10
                                    Live: =Live.Assertive
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Text: =Parent.Error
                                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                                    Width: =Parent.Width - 60
                                    X: =30
                                    Y: =DataCardValue12.Y + DataCardValue12.Height
                                    ZIndex: =3

                                StarVisible12 As label:
                                    Align: =Align.Center
                                    Height: =DataCardKey12.Height
                                    Text: ="*"
                                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                    Width: =30
                                    Wrap: =false
                                    Y: =DataCardKey12.Y
                                    ZIndex: =4

                            FechaRegistro_DataCard1 As typedDataCard.dateEditCard:
                                BorderStyle: =BorderStyle.Solid
                                DataField: ="FechaRegistro"
                                Default: =ThisItem.FechaRegistro
                                DisplayMode: =Parent.DisplayMode
                                DisplayName: =DataSourceInfo([@Bitacora],DataSourceInfo.DisplayName,"FechaRegistro")
                                Fill: =RGBA(0, 0, 0, 0)
                                Height: =50
                                Required: =false
                                Update: =DataCardValue17.SelectedDate
                                Visible: =true
                                Width: =266
                                X: =2
                                Y: =0
                                ZIndex: =2

                                DataCardKey17 As label:
                                    AutoHeight: =true
                                    Height: =34
                                    Text: =Parent.DisplayName
                                    Width: =Parent.Width - 60
                                    Wrap: =false
                                    X: =30
                                    Y: =10
                                    ZIndex: =1

                                DataCardValue17 As datepicker:
                                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                    DefaultDate: =Parent.Default
                                    DisplayMode: =Parent.DisplayMode
                                    EndYear: =Year(Today())+100
                                    IsEditable: =true
                                    OnSelect: |-
                                        =ClearCollect(Filtros, 
                                            {
                                                Becario:DataCardValue20.Selected.DisplayName,
                                                Fecha: DataCardValue17.SelectedDate,
                                                Asigno: DataCardValue12.Selected.DisplayName        
                                            }      
                                        )
                                    PaddingBottom: =0
                                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                    StartYear: =1899
                                    Tooltip: =Parent.DisplayName
                                    Width: =Parent.Width - 60
                                    X: =30
                                    Y: =DataCardKey17.Y + DataCardKey17.Height + 5
                                    ZIndex: =2

                                ErrorMessage17 As label:
                                    AutoHeight: =true
                                    Height: =10
                                    Live: =Live.Assertive
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    Text: =Parent.Error
                                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                                    Width: =Parent.Width - 60
                                    X: =30
                                    Y: =DataCardValue17.Y + DataCardValue17.Height
                                    ZIndex: =3

                                StarVisible17 As label:
                                    Align: =Align.Center
                                    Height: =DataCardKey17.Height
                                    Text: ="*"
                                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                    Width: =30
                                    Wrap: =false
                                    Y: =DataCardKey17.Y
                                    ZIndex: =4

                        Icon1 As icon.Erase:
                            AlignInContainer: =AlignInContainer.Center
                            Height: =55
                            Icon: =Icon.Erase
                            OnSelect: =ResetForm(Form5)
                            Width: =55
                            ZIndex: =2

                    "Gallery3 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                        DelayItemLoading: =true
                        Items: |-
                            =If(
                                And(
                                    IsBlank(DataCardValue20.Selected.DisplayName),
                                    IsBlank(DataCardValue17.SelectedDate),
                                    IsBlank(DataCardValue12.Selected.DisplayName)
                                ),
                                SortByColumns(
                                    Bitacora,
                                    "FechaRegistro",
                                    SortOrder.Descending
                                ),
                                If(
                                    And(
                                        !IsBlank(DataCardValue20.Selected.DisplayName),
                                        IsBlank(DataCardValue17.SelectedDate),
                                        IsBlank(DataCardValue12.Selected.DisplayName)
                                    ),
                                    SortByColumns(
                                        Filter(
                                            Bitacora,
                                            'Created By'.DisplayName = DataCardValue20.Selected.DisplayName
                                        ),
                                        "FechaRegistro",
                                        SortOrder.Descending
                                    ),
                                    If(
                                        And(
                                            IsBlank(DataCardValue20.Selected.DisplayName),
                                            !IsBlank(DataCardValue17.SelectedDate),
                                            IsBlank(DataCardValue12.Selected.DisplayName)
                                        ),
                                        SortByColumns(
                                            Filter(
                                                Bitacora,
                                                FechaRegistro = DataCardValue17.SelectedDate
                                            ),
                                            "FechaRegistro",
                                            SortOrder.Descending
                                        ),
                                        If(
                                            And(
                                                IsBlank(DataCardValue20.Selected.DisplayName),
                                                IsBlank(DataCardValue17.SelectedDate),
                                                !IsBlank(DataCardValue12.Selected.DisplayName)
                                            ),
                                            SortByColumns(
                                                Filter(
                                                    Bitacora,
                                                    '¿Quién asignó?'.DisplayName = DataCardValue12.Selected.DisplayName
                                                ),
                                                "FechaRegistro",
                                                SortOrder.Descending
                                            ),
                                            If(
                                                And(
                                                    IsBlank(DataCardValue20.Selected.DisplayName),
                                                    !IsBlank(DataCardValue17.SelectedDate),
                                                    !IsBlank(DataCardValue12.Selected.DisplayName)
                                                ),
                                                SortByColumns(
                                                    Filter(
                                                        Bitacora,
                                                        FechaRegistro = DataCardValue17.SelectedDate,
                                                        '¿Quién asignó?'.DisplayName = DataCardValue12.Selected.DisplayName
                                                    ),
                                                    "FechaRegistro",
                                                    SortOrder.Descending
                                                ),
                                                If(
                                                    And(
                                                        !IsBlank(DataCardValue20.Selected.DisplayName),
                                                        IsBlank(DataCardValue17.SelectedDate),
                                                        !IsBlank(DataCardValue12.Selected.DisplayName)
                                                    ),
                                                    SortByColumns(
                                                        Filter(
                                                            Bitacora,
                                                            'Created By'.DisplayName = DataCardValue20.Selected.DisplayName,
                                                            '¿Quién asignó?'.DisplayName = DataCardValue12.Selected.DisplayName
                                                        ),
                                                        "FechaRegistro",
                                                        SortOrder.Descending
                                                    ),
                                                    If(
                                                        And(
                                                            !IsBlank(DataCardValue20.Selected.DisplayName),
                                                            !IsBlank(DataCardValue17.SelectedDate),
                                                            IsBlank(DataCardValue12.Selected.DisplayName)
                                                        ),
                                                        SortByColumns(
                                                            Filter(
                                                                Bitacora,
                                                                'Created By'.DisplayName = DataCardValue20.Selected.DisplayName,
                                                                FechaRegistro = DataCardValue17.SelectedDate
                                                            ),
                                                            "FechaRegistro",
                                                            SortOrder.Descending
                                                        ),
                                                        If(
                                                            And(
                                                                !IsBlank(DataCardValue20.Selected.DisplayName),
                                                                !IsBlank(DataCardValue17.SelectedDate),
                                                                !IsBlank(DataCardValue12.Selected.DisplayName)
                                                            ),
                                                            SortByColumns(
                                                                Filter(
                                                                    Bitacora,
                                                                    'Created By'.DisplayName = DataCardValue20.Selected.DisplayName,
                                                                    '¿Quién asignó?'.DisplayName = DataCardValue12.Selected.DisplayName,
                                                                    FechaRegistro = DataCardValue17.SelectedDate
                                                                ),
                                                                "FechaRegistro",
                                                                SortOrder.Descending
                                                            )
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =287
                        LayoutMinWidth: =320
                        LoadingSpinner: =LoadingSpinner.Data
                        OnSelect: |
                            =EditForm(Form2);
                            Set(
                                varEditForm,
                                true
                            );
                            Set(
                                varEditForm1,
                                false
                            );
                        TemplatePadding: =0
                        TemplateSize: =104
                        Visible: =If(And(Gallery1.Selected.id = 2,varEditForm1), true, false)
                        ZIndex: =4

                        Title3 As label:
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =Self.Size * 1.8
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Text: |-
                                ="Título: "&ThisItem.Title
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Parent.TemplateWidth - 173
                            X: =20
                            Y: =(Parent.TemplateHeight - (Self.Size * 1.8 + Subtitle3.Size * 1.8)) / 3
                            ZIndex: =2

                        Subtitle3 As label:
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =Self.Size * 1.8
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Text: |-
                                ="Creado por: "&ThisItem.'¿Quién asignó?'.DisplayName
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Title3.Width
                            X: =Title3.X
                            Y: =Title3.Y + Title3.Height
                            ZIndex: =3

                        NextArrow3 As icon.ChevronRight:
                            AccessibleLabel: =Self.Tooltip
                            Color: =RGBA(166, 166, 166, 1)
                            Height: =50
                            Icon: =Icon.ChevronRight
                            OnSelect: =Select(Parent)
                            PaddingBottom: =16
                            PaddingLeft: =16
                            PaddingRight: =16
                            PaddingTop: =16
                            Tooltip: ="View item details"
                            Width: =50
                            X: =Parent.TemplateWidth - Self.Width - 12
                            Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                            ZIndex: =4

                        Separator3 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Rectangle3 As rectangle:
                            Height: =Parent.TemplateHeight - Separator3.Height
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =4
                            ZIndex: =6

                        Subtitle3_1 As label:
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =Self.Size * 1.8
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Text: |-
                                ="Fecha: "&ThisItem.FechaRegistro
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Title3.Width
                            X: =Title3.X
                            Y: =Title3.Y + Title3.Height + Title3.Height
                            ZIndex: =7

                        Icon5 As icon.Trash:
                            Height: =35
                            Icon: =Icon.Trash
                            OnSelect: =Remove(Bitacora,Gallery3.Selected)
                            Width: =35
                            X: =823
                            Y: =37
                            ZIndex: =9

                Container1 As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =If(Gallery1.Selected.id = 1, true, false)
                    Width: =Parent.Width
                    ZIndex: =4

                    Container2 As groupContainer.horizontalAutoLayoutContainer:
                        FillPortions: =0
                        Height: =100
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =10
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =1

                        Button1 As button:
                            DisplayMode: |-
                                =//DisplayMode.Disabled &
                                If(And(VarEntrada <= Value(Text(Now(),"hh","es-MX")), VarSalida >= Value(Text(Now(),"hh","es-MX")),!(CountRows(colReg)>0)
                                    ),
                                    
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            OnSelect: |-
                                =Set(varDateHour, Text( Now(), "dd/mm/yyyy hh:mm:ss" ));
                                Set(FechaHoraAct,Now());
                                Set(
                                    VarSalidaH,
                                    Value(
                                        Left(
                                            LookUp(
                                                Horarios,
                                                And(
                                                    Becario.Email = User().Email,
                                                    Dia.Value = Text(
                                                        Today(),
                                                        "dddd",
                                                        "es-MX"
                                                    )
                                                ),
                                                HoraFin
                                            ).Value,
                                            2
                                        )
                                    )
                                );
                                Set(
                                    VarSalidaM,
                                    Value(
                                        Right(
                                            LookUp(
                                                Horarios,
                                                And(
                                                    Becario.Email = User().Email,
                                                    Dia.Value = Text(
                                                        Today(),
                                                        "dddd",
                                                        "es-MX"
                                                    )
                                                ),
                                                HoraFin
                                            ).Value,
                                            2
                                        )
                                    )
                                );
                                Set(
                                    HoraActual,
                                    Value(
                                        Text(
                                            FechaHoraAct,
                                            "hh",
                                            "es-MX"
                                    ))
                                );
                                Set(
                                    MinutosActual,
                                    Value(
                                        Right(Text(
                                            FechaHoraAct,
                                            "hh:mm",
                                            "es-MX"
                                        ),2))
                                );
                                If(
                                    VarSalidaH>HoraActual,
                                    Set(Aprobado,true)
                                    ,
                                    If(
                                        VarSalidaH=HoraActual,
                                        If(
                                            VarSalidaM>=MinutosActual,
                                            Set(Aprobado,true),
                                            Set(Aprobado,false)
                                        ),
                                        Set(Aprobado,false)
                                    )
                                );
                                If(
                                    Aprobado,    
                                    Patch('RegistroEntrada/Salida',{
                                        Title:Text(Now()),
                                        HoraEntrada:varDateHour,
                                        ValidacionText:Text(Today(),"dd/mm/yyyy")
                                    });
                                
                                    Clear(colReg);
                                    ForAll(Filter('RegistroEntrada/Salida','Created By'.Email=User().Email, ValidacionText = Text(Today(), "dd/mm/yyyy")),
                                        Patch(colReg,Defaults(colReg),
                                            {
                                                ID: ID,
                                                'Created By': 'Created By'.Email,
                                                Entrada: HoraEntrada,
                                                Salida: HoraSalida,
                                                ValidacionText: ValidacionText,
                                                Id_Actividad:LookUp(Bitacora,ID=0)
                                            }
                                        )
                                    ),        
                                    
                                    Notify(
                                        "Ya no puedes registrar tu entrada, ya que paso tu hora de salida",
                                        NotificationType.Error,
                                        40000
                                    )    
                                )
                            Text: ="Registrar entrada"
                            Width: =200
                            ZIndex: =1

                        Button2 As button:
                            DisplayMode: |-
                                =If(And(
                                    (
                                        CountRows(colReg)>0),
                                        //VarSalida > Value(Text(Now(),"hh","es-MX")), 
                                        IsBlank(LookUp('RegistroEntrada/Salida',And('Created By'.Email = User().Email, ValidacionText = Text( Now(), "dd/mm/yyyy" ) )).HoraSalida)
                                    ),
                                    DisplayMode.Edit,
                                    DisplayMode.Disabled
                                )
                            OnSelect: |-
                                =Set(FechaHoraAct,Now());
                                Set(HoraActual,
                                    Value(
                                        Text(
                                            FechaHoraAct,
                                            "hh",
                                            "es-MX"
                                        )
                                    )
                                );
                                Set(MinutosActual,
                                    Value(
                                        Right(Text(
                                            FechaHoraAct,
                                            "hh:mm",
                                            "es-MX"
                                        ),2)
                                    )
                                );
                                Clear(colReg);
                                ForAll(
                                    Filter(
                                        'RegistroEntrada/Salida',
                                        'Created By'.Email = User().Email,
                                        ValidacionText = Text(
                                            Today(),
                                            "dd/mm/yyyy"
                                        )
                                    ),
                                    Patch(
                                        colReg,
                                        Defaults(colReg),
                                        {
                                            ID: ID,
                                            'Created By': 'Created By'.Email,
                                            Entrada: HoraEntrada,
                                            Salida: HoraSalida,
                                            ValidacionText: ValidacionText,
                                            Id_Actividad:LookUp(Bitacora,ID=0)           
                                        }
                                    )
                                );
                                Set(
                                    VarEntrada,
                                    Value(
                                        Left(
                                            LookUp(
                                                Horarios,
                                                And(
                                                    Becario.Email = User().Email,
                                                    Dia.Value = Text(
                                                        Today(),
                                                        "dddd",
                                                        "es-MX"
                                                    )
                                                ),
                                                HoraInicio
                                            ).Value,
                                            2
                                        )
                                    )
                                );
                                Set(
                                    VarSalidaH,
                                    Value(
                                        Left(
                                            LookUp(
                                                Horarios,
                                                And(
                                                    Becario.Email = User().Email,
                                                    Dia.Value = Text(
                                                        Today(),
                                                        "dddd",
                                                        "es-MX"
                                                    )
                                                ),
                                                HoraFin
                                            ).Value,
                                            2
                                        )
                                    )
                                );
                                Set(
                                    VarSalidaM,
                                    Value(
                                        Right(
                                            LookUp(
                                                Horarios,
                                                And(
                                                    Becario.Email = User().Email,
                                                    Dia.Value = Text(
                                                        Today(),
                                                        "dddd",
                                                        "es-MX"
                                                    )
                                                ),
                                                HoraFin
                                            ).Value,
                                            2
                                        )
                                    )
                                );
                                Set(
                                    VarSalidaCompleta,
                                    LookUp( 
                                        Horarios,
                                        And(
                                            Becario.Email = User().Email,
                                            Dia.Value = Text(
                                                Today(),
                                                "dddd",
                                                "es-MX"
                                            )
                                        ),
                                        HoraFin
                                    ).Value
                                );
                                Set(
                                    NumAct,LookUp('RegistroEntrada/Salida',And('Created By'.Email=User().Email,ValidacionText=Text(Today(),"dd/mm/yyyy","es-MX")))      .Id_Actividad
                                );
                                Refresh(Horarios);
                                If(!IsBlank(NumAct),
                                    If(        
                                        VarSalidaH > HoraActual,        
                                        //Verdad if
                                        Set(
                                            varDateHour,
                                            Text(
                                                FechaHoraAct,
                                                "dd/mm/yyyy hh:mm:ss"
                                            )
                                        );
                                        Set(
                                            VarID,
                                            LookUp(
                                                colReg,
                                                'Created By' = User().Email,
                                                ID
                                            )
                                        );
                                        Patch(
                                            'RegistroEntrada/Salida',
                                            LookUp(
                                                'RegistroEntrada/Salida',
                                                ID = VarID
                                            ),
                                            {
                                                Title: Text(Now()),
                                                HoraSalida: varDateHour,
                                                ValidacionText: Text(
                                                    Today(),
                                                    "dd/mm/yyyy"
                                                )
                                            }
                                        );
                                        Clear(colReg);
                                        ForAll(
                                            Filter(
                                                'RegistroEntrada/Salida',
                                                'Created By'.Email = User().Email,
                                                ValidacionText = Text(
                                                    Today(),
                                                    "dd/mm/yyyy"
                                                )
                                            ),
                                            Patch(
                                                colReg,
                                                Defaults(colReg),
                                                {
                                                    ID: ID,
                                                    'Created By': 'Created By'.Email,
                                                    Entrada: HoraEntrada,
                                                    Salida: HoraSalida,
                                                    ValidacionText: ValidacionText
                                                }
                                            )
                                        );
                                        Set(
                                            varHorasIniciall,
                                            Left(
                                                Right(
                                                    Text(
                                                        FechaHoraAct,
                                                        "dd/mm/yyyy hh:mm:ss"
                                                    ),
                                                    8
                                                ),
                                                2
                                            )
                                        );
                                        Set(
                                            varMinutosIniciall,
                                            Left(
                                                Right(
                                                    Text(
                                                        FechaHoraAct,
                                                        "dd/mm/yyyy hh:mm:ss"
                                                    ),
                                                    5
                                                ),
                                                2
                                            )
                                        );
                                        Set(
                                            varDifH,
                                            DateDiff(            
                                                LookUp(
                                                    colReg,
                                                    ValidacionText = Text(
                                                        Today(),
                                                        "dd/mm/yyyy"
                                                    )
                                                ).Entrada,
                                                LookUp(
                                                    colReg,
                                                    ValidacionText = Text(
                                                        Today(),
                                                        "dd/mm/yyyy"
                                                    )
                                                ).Salida,
                                                TimeUnit.Minutes
                                            )
                                        );
                                        Set(
                                            difHoras,
                                            RoundDown(varDifH/60,0)
                                        );
                                        Set(
                                            difMinutos,
                                            Mod(varDifH,60)
                                        );
                                        Set(horasBecario, LookUp(Becarios, Becario.Email = User().Email));
                                        If(
                                            horasBecario.MinutosTotales+difMinutos>60,        
                                            Patch(Becarios,horasBecario,{HorasTotales:horasBecario.HorasTotales+difHoras+1});
                                            Set(minutosT,(horasBecario.MinutosTotales+difMinutos)-60);
                                            Patch(Becarios,horasBecario,{MinutosTotales:minutosT}),
                                            Patch(Becarios,horasBecario,{HorasTotales:horasBecario.HorasTotales+difHoras});
                                            Patch(Becarios,horasBecario,{MinutosTotales:horasBecario.MinutosTotales+difMinutos});
                                        );
                                        Notify(
                                            "Registro Correcto",
                                            NotificationType.Success,
                                            40000
                                        )
                                        //If Falso
                                    ,
                                        Set(
                                            VarID,
                                            LookUp(
                                                colReg,
                                                'Created By' = User().Email,
                                                ID
                                            )
                                        );
                                        If(And(VarSalidaH=HoraActual,VarSalidaM>=MinutosActual),
                                            Set(
                                                varDateHour,
                                                Concatenate(Text(FechaHoraAct),":00")
                                            ),            
                                            Set(
                                                varDateHour,
                                                Text(Concatenate(Text(FechaHoraAct,"dd/mm/yyyy")," ",Text(VarSalidaCompleta),":00"))
                                            )           
                                        )
                                        ;
                                        Patch(
                                            'RegistroEntrada/Salida',
                                            LookUp(
                                                'RegistroEntrada/Salida',
                                                ID = VarID
                                            ),
                                                    {
                                                        Title: Text(Now()),
                                                        HoraSalida: varDateHour,
                                                        ValidacionText: Text(
                                                            Today(),
                                                            "dd/mm/yyyy"
                                                        )
                                                    }
                                                );
                                                Clear(colReg);
                                                ForAll(
                                                    Filter(
                                                        'RegistroEntrada/Salida',
                                                        'Created By'.Email = User().Email,
                                                        ValidacionText = Text(
                                                            Today(),
                                                            "dd/mm/yyyy"
                                                        )
                                                    ),
                                                    Patch(
                                                        colReg,
                                                        Defaults(colReg),
                                                        {
                                                            ID: ID,
                                                            'Created By': 'Created By'.Email,
                                                            Entrada: HoraEntrada,
                                                            Salida: HoraSalida,
                                                            ValidacionText: ValidacionText
                                                        }
                                                    )
                                                );
                                                Set(
                                                    varHorasIniciall,
                                                    Left(VarSalidaCompleta,2)            
                                                );
                                                Set(
                                                    varMinutosIniciall,Text(Right(VarSalidaCompleta,2))
                                                );
                                                Set(
                                                    varDifH,
                                                    DateDiff(            
                                                        LookUp(
                                                            colReg,
                                                            ValidacionText = Text(
                                                                Today(),
                                                                "dd/mm/yyyy"
                                                            )
                                                        ).Entrada,
                                                        LookUp(
                                                            colReg,
                                                            ValidacionText = Text(
                                                                Today(),
                                                                "dd/mm/yyyy"
                                                            )
                                                        ).Salida,
                                                        TimeUnit.Minutes
                                                    )
                                                );
                                                Set(
                                                    difHoras,
                                                    RoundDown(varDifH/60,0)
                                                );
                                                Set(
                                                    difMinutos,
                                                    Mod(varDifH,60)
                                                );
                                                Set(horasBecario, LookUp(Becarios, Becario.Email = User().Email));
                                                If(
                                                    horasBecario.MinutosTotales+difMinutos>60,        
                                                    Patch(Becarios,horasBecario,{HorasTotales:horasBecario.HorasTotales+difHoras+1});
                                                    Set(minutosT,(horasBecario.MinutosTotales+difMinutos)-60);
                                                    Patch(Becarios,horasBecario,{MinutosTotales:minutosT}),
                                                    Patch(Becarios,horasBecario,{HorasTotales:horasBecario.HorasTotales+difHoras});
                                                    Patch(Becarios,horasBecario,{MinutosTotales:horasBecario.MinutosTotales+difMinutos});
                                                );
                                            
                                            If(VarSalidaH=HoraActual,
                                                If(
                                                    VarSalidaM>=MinutosActual,
                                                    Notify(
                                                        "Registro Correcto",
                                                        NotificationType.Success,
                                                        40000
                                                    ),  
                                                    Notify(
                                                        "Tu hora de salida es mayor a tu jornada, solo se guardaron las horas correspondientes a tu horario",
                                                        NotificationType.Information,
                                                        40000
                                                    )
                                                )
                                            )
                                    ),    
                                    Notify(
                                        "Recuerda: Antes de registrar tu salida debes registrar al menos una actividad",
                                        NotificationType.Error,
                                        40000
                                    )
                                )
                                 
                            Text: ="Registrar salida"
                            Width: =200
                            ZIndex: =2

                    Container3 As groupContainer.horizontalAutoLayoutContainer:
                        FillPortions: =0
                        Height: =50
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =2

                        Label2 As label:
                            Text: =Text(Now(),"dddd dd mmmm yyyy","es-MX")
                            Width: =300
                            ZIndex: =1

                    Container5 As groupContainer.horizontalAutoLayoutContainer:
                        FillPortions: =0
                        Height: =50
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =3

                        Label3 As label:
                            Text: ="Entrada"
                            Width: =200
                            ZIndex: =1

                        Label4 As label:
                            Text: ="Salida"
                            Width: =200
                            ZIndex: =2

                    Container6 As groupContainer.horizontalAutoLayoutContainer:
                        FillPortions: =0
                        Height: =50
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =4

                        Label5 As label:
                            Text: =Right(LookUp(colReg,'Created By'=User().Email,Entrada),8)
                            Width: =200
                            ZIndex: =1

                        Label6 As label:
                            Text: =Right(LookUp(colReg,'Created By'=User().Email,Salida),8)
                            Width: =200
                            ZIndex: =2

                Container7 As groupContainer.verticalAutoLayoutContainer:
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: |-
                        =//varEditForm
                        If(And(Gallery1.Selected.id = 2,varEditForm), true, false)
                    Width: =Parent.Width
                    ZIndex: =5

                    Form2 As form:
                        DataSource: =Bitacora
                        DefaultMode: =FormMode.New
                        Fill: =RGBA(241, 244, 249, 1)
                        Item: =Gallery3.Selected
                        LayoutMinHeight: =250
                        LayoutMinWidth: =400
                        ZIndex: =1

                        Title_DataCard1 As typedDataCard.textualEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="Title"
                            Default: =ThisItem.Title
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Bitacora],DataSourceInfo.DisplayName,"Title")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            MaxLength: =DataSourceInfo([@Bitacora], DataSourceInfo.MaxLength, "Title")
                            Required: =true
                            Update: =DataCardValue1.Text
                            Width: =306
                            X: =0
                            Y: =0
                            ZIndex: =2

                            DataCardKey1 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: ="Título de actividad"
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue1 As text:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                Default: =Parent.Default
                                DelayOutput: =true
                                DisplayMode: =Parent.DisplayMode
                                MaxLength: =Parent.MaxLength
                                PaddingLeft: =5
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey1.Y + DataCardKey1.Height + 5
                                ZIndex: =2

                            ErrorMessage1 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue1.Y + DataCardValue1.Height
                                ZIndex: =3

                            StarVisible1 As label:
                                Align: =Align.Center
                                Height: =DataCardKey1.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey1.Y
                                ZIndex: =4

                        "'¿Quién asignó?_DataCard1' As typedDataCard.comboBoxEditCard":
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="OData__x00bf_Qui_x00e9_nasign_x00f3__x"
                            Default: =ThisItem.'¿Quién asignó?'
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Bitacora],DataSourceInfo.DisplayName,"OData__x00bf_Qui_x00e9_nasign_x00f3__x")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =true
                            Update: =DataCardValue2.Selected
                            Width: =306
                            X: =1
                            Y: =0
                            ZIndex: =2

                            DataCardKey2 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue2 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["DisplayName","Email","Picture"]
                                DisplayMode: =Parent.DisplayMode
                                Items: =Choices([@Bitacora].'¿Quién asignó?')
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["DisplayName"]
                                SearchItems: =Choices(Bitacora.'¿Quién asignó?',DataCardValue2.SearchText)
                                SelectMultiple: =false
                                Template: =ListItemTemplate.Person
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey2.Y + DataCardKey2.Height + 5
                                ZIndex: =2

                            ErrorMessage2 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue2.Y + DataCardValue2.Height
                                ZIndex: =3

                            StarVisible2 As label:
                                Align: =Align.Center
                                Height: =DataCardKey2.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey2.Y
                                ZIndex: =4

                        Comentarios_DataCard1 As typedDataCard.textualEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="Comentarios"
                            Default: =ThisItem.Comentarios
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Bitacora],DataSourceInfo.DisplayName,"Comentarios")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            MaxLength: =DataSourceInfo([@Bitacora], DataSourceInfo.MaxLength, "Comentarios")
                            Required: =true
                            Update: =DataCardValue3.Text
                            Width: =306
                            X: =2
                            Y: =0
                            ZIndex: =2

                            DataCardKey3 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: ="Descripción"
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue3 As text:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                Default: =Parent.Default
                                DelayOutput: =true
                                DisplayMode: =Parent.DisplayMode
                                MaxLength: =Parent.MaxLength
                                Mode: =TextMode.MultiLine
                                PaddingLeft: =5
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey3.Y + DataCardKey3.Height + 5
                                ZIndex: =2

                            ErrorMessage3 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue3.Y + DataCardValue3.Height
                                ZIndex: =3

                            StarVisible3 As label:
                                Align: =Align.Center
                                Height: =DataCardKey3.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey3.Y
                                ZIndex: =4

                        Attachments_DataCard1 As typedDataCard.attachmentsEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="{Attachments}"
                            Default: =ThisItem.Attachments
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Bitacora],DataSourceInfo.DisplayName,"{Attachments}")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =true
                            Update: =DataCardValue4.Attachments
                            Width: =306
                            X: =0
                            Y: =1
                            ZIndex: =2

                            DataCardKey4 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: ="Evidencia"
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue4 As attachments:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DisplayMode: =Parent.DisplayMode
                                IsInDataCard: =true
                                Items: =Parent.Default
                                PaddingBottom: =5
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                PaddingRight: =5
                                PaddingTop: =5
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =59
                                ZIndex: =2

                            ErrorMessage4 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue4.Y + DataCardValue4.Height
                                ZIndex: =3

                            StarVisible4 As label:
                                Align: =Align.Center
                                Height: =DataCardKey4.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey4.Y
                                ZIndex: =4

                    Container16 As groupContainer.horizontalAutoLayoutContainer:
                        FillPortions: =0
                        Height: =100
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =20
                        LayoutJustifyContent: =LayoutJustifyContent.End
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        Visible: =If(Form2.Mode=FormMode.Edit,true,false)
                        ZIndex: =3

                        Label19 As label:
                            Height: =36
                            OnSelect: =
                            Text: |-
                                ="Hora de Entrada: "&Text(LookUp('RegistroEntrada/Salida',Id_Actividad.Value=Text(Gallery3.Selected.ID)).HoraEntrada,"hh:mm:ss")
                            Width: =400
                            X: =455
                            Y: =8
                            ZIndex: =1

                        Label19_1 As label:
                            Height: =36
                            OnSelect: =
                            Text: |-
                                ="Hora de Salida: "&Text(LookUp('RegistroEntrada/Salida',Id_Actividad.Value=Text(Gallery3.Selected.ID)).HoraSalida,"hh:mm:ss")
                            Width: =400
                            X: =455
                            Y: =8
                            ZIndex: =2

                    Container8 As groupContainer.horizontalAutoLayoutContainer:
                        FillPortions: =0
                        Height: =60
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =10
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =4

                        Button3 As button:
                            OnSelect: |
                                =ResetForm(Form2);
                                Set(varEditForm, false);
                                Set(varEditForm1, true);
                            Text: ="Atras"
                            ZIndex: =1

                        Button4 As button:
                            OnSelect: |-
                                =If(
                                    !Or(
                                        IsBlank(DataCardValue1.Text),
                                        IsBlank(DataCardValue2.SelectedItems),
                                        IsBlank(DataCardValue3.Text),
                                        CountRows(DataCardValue4.Attachments) = 0
                                    )
                                    ,//True
                                    If(
                                        Form2.Mode = FormMode.Edit
                                        ,
                                        Notify(
                                            "Actualizado correctamente",
                                            NotificationType.Success,
                                            4000
                                        );
                                        Patch(
                                            Bitacora,
                                            Gallery3.Selected,
                                            Form2.Updates
                                        );
                                        ResetForm(Form2);
                                        Set(
                                            varEditForm,
                                            false
                                        );
                                        Refresh(Becarios);
                                        Refresh(Bitacora);
                                        Refresh(Horarios);
                                        Refresh('RegistroEntrada/Salida');
                                        Set(
                                            varEditForm1,
                                            true
                                        )
                                        , //FALSE
                                        Notify(
                                            "Enviado correctamente",
                                            NotificationType.Success,
                                            4000
                                        );
                                        Set(
                                            iDBitacora,
                                            Patch(
                                                Bitacora,
                                                Defaults(Bitacora),
                                                {
                                                    Title: DataCardValue1,
                                                    '¿Quién asignó?': {
                                                        'odata.type': "Microsoft.Azure.Conectors.SharePoint.SPListExpandedUser",
                                                        Claims: "i:0#.f|membership|" & Lower(DataCardValue2.Selected.Email),
                                                        Department: DataCardValue2.Selected.Department,
                                                        DisplayName: DataCardValue2.Selected.DisplayName,
                                                        Email: DataCardValue2.Selected.Email,
                                                        JobTitle: DataCardValue2.Selected.JobTitle,
                                                        Picture: DataCardValue2.Selected.Picture
                                                    },
                                                    Comentarios: DataCardValue3,
                                                    Attachments: DataCardValue4,
                                                    FechaRegistro: Today()
                                                },
                                                Form2.Updates
                                            ).ID
                                        );
                                        Set(
                                            iDCol,
                                            First(colReg).ID
                                        );
                                        Patch(
                                            'RegistroEntrada/Salida',
                                            LookUp(
                                                'RegistroEntrada/Salida',
                                                ID = iDCol
                                            ),
                                            {
                                                Id_Actividad: {
                                                    '@odata.type': "#Microsoft.Azure.Connectors.SharePoint.SPListExpandedReference",
                                                    Id: iDBitacora,
                                                    Value: iDBitacora
                                                }
                                            }
                                        );
                                        /*        
                                        x=Recuperar id generado de la bitacora
                                        Set(id:col)Recuperar id de la coleccion colReg
                                        Patch('RegistroEntrada/Salida';defaults(LookUp('RegistroEntrada'.Id=id_col){id_Actividad:x}))
                                        */    
                                        ResetForm(Form2);
                                        Set(
                                            varEditForm,
                                            false
                                        );
                                        Refresh(Becarios);
                                        Refresh(Bitacora);
                                        Refresh(Horarios);
                                        Refresh('RegistroEntrada/Salida');
                                        Set(
                                            varEditForm1,
                                            true
                                        );
                                        CrearArchivo.Run(iDBitacora)   
                                    )
                                    ,//False
                                        Notify(
                                            "Faltan Campos por Llenar",
                                            NotificationType.Error,
                                            4000
                                        )
                                )
                            Text: ="Guardar"
                            ZIndex: =2

                ContainerBecarios As groupContainer.verticalAutoLayoutContainer:
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =If(And(Gallery1.Selected.id = 3,!varEditForm2,!varEditForm4,!varEditForm5), true,false)
                    Width: =Parent.Width
                    ZIndex: =6

                    Label13 As label:
                        Text: =
                        ZIndex: =1

                    Container4 As groupContainer.horizontalAutoLayoutContainer:
                        FillPortions: =0
                        Height: =75
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutJustifyContent: =LayoutJustifyContent.End
                        LayoutMinHeight: =20
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        Visible: =If(And(Gallery1.Selected.id = 3,!varEditForm2), true,false)
                        ZIndex: =2

                        Label11 As label:
                            Align: =Align.Center
                            Size: =20
                            Text: ="Usuarios Registrados"
                            Width: =500
                            ZIndex: =1

                        Label17 As label:
                            Text: =
                            ZIndex: =2

                        Icon3 As icon.AddUser:
                            Icon: =Icon.AddUser
                            OnSelect: |-
                                =Set(varEditForm, false);
                                Set(varEditForm1, false);
                                Set(varEditForm2, false);
                                Set(varEditForm3, false);
                                Set(varEditForm4, false);
                                Set(varEditForm5,true);
                                ResetForm(Form4);
                                NewForm(Form4)
                            ZIndex: =3

                    "Gallery2 As gallery.'BrowseLayout_Vertical_TwoTextVariant_ver5.0'":
                        DelayItemLoading: =true
                        Items: =Filter(Becarios,!IsAdmin)
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =287
                        LayoutMinWidth: =320
                        LoadingSpinner: =LoadingSpinner.Data
                        OnSelect: =Set(varEditForm2,true)
                        TemplatePadding: =0
                        TemplateSize: =90
                        Visible: =If(And(Gallery1.Selected.id = 3,!varEditForm2,!varEditForm4,!varEditForm5), true,false)
                        ZIndex: =3

                        Title2 As label:
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =Self.Size * 1.8
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Text: =ThisItem.Becario.DisplayName
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Parent.TemplateWidth - 86
                            X: =16
                            Y: =(Parent.TemplateHeight - (Self.Size * 1.8 + Subtitle1.Size * 1.8)) / 2
                            ZIndex: =1

                        Subtitle1 As label:
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =Self.Size * 1.8
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Text: |-
                                ="Horas Totales: "&ThisItem.HorasTotales&":"&ThisItem.MinutosTotales
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Title2.Width
                            X: =Title2.X
                            Y: =Title2.Y + Title2.Height
                            ZIndex: =2

                        NextArrow2 As icon.ChevronRight:
                            AccessibleLabel: =Self.Tooltip
                            Color: =RGBA(166, 166, 166, 1)
                            Height: =50
                            Icon: =Icon.ChevronRight
                            OnSelect: =Select(Parent)
                            PaddingBottom: =16
                            PaddingLeft: =16
                            PaddingRight: =16
                            PaddingTop: =16
                            Tooltip: ="Ver los detalles del elemento"
                            Width: =50
                            X: =Parent.TemplateWidth - Self.Width - 12
                            Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                            ZIndex: =3

                        Separator2 As rectangle:
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =4

                        Rectangle2 As rectangle:
                            Height: =Parent.TemplateHeight - Separator2.Height
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =4
                            ZIndex: =5

                        Icon7 As icon.Edit:
                            Height: =45
                            Icon: =Icon.Edit
                            OnSelect: |-
                                =Set(varEditForm, false);
                                Set(varEditForm1, false);
                                Set(varEditForm2, false);
                                Set(varEditForm3, false);
                                Set(varEditForm4, false);
                                Set(varEditForm5,true);
                                EditForm(Form4)
                            Width: =45
                            X: =805
                            Y: =22
                            ZIndex: =6

                Container27 As groupContainer.horizontalAutoLayoutContainer:
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =varEditForm2
                    ZIndex: =7

                    Label27 As label:
                        Align: =Align.Center
                        Text: |-
                            ="Horarios de: "&Gallery2.Selected.Becario.DisplayName
                        Width: =Parent.Width
                        ZIndex: =2

                    Label12 As label:
                        Align: =Align.Center
                        AlignInContainer: =AlignInContainer.Stretch
                        Text: |-
                            =" Horas Acumuladas: "&LookUp(Becarios,Becario.Email=Gallery2.Selected.Becario.Email).HorasTotales & ":" &LookUp(Becarios,Becario.Email=Gallery2.Selected.Becario.Email).MinutosTotales
                        Width: =250
                        ZIndex: =3

                Container26 As groupContainer.horizontalAutoLayoutContainer:
                    FillPortions: =0
                    Height: =65
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =varEditForm2
                    ZIndex: =8

                    Label24 As label:
                        Align: =Align.Center
                        Text: ="Día"
                        ZIndex: =1

                    Label25 As label:
                        Align: =Align.Center
                        Text: ="Hora de Entrada"
                        ZIndex: =2

                    Label26 As label:
                        Align: =Align.Center
                        Text: ="Hora de Salida"
                        ZIndex: =3

                    Label14 As label:
                        Height: =50
                        Text: =
                        Width: =95
                        ZIndex: =4

                    Label15 As label:
                        Text: =
                        ZIndex: =5

                    Label15_1 As label:
                        Text: =
                        ZIndex: =6

                    Icon2 As icon.Add:
                        Icon: =Icon.Add
                        OnSelect: =Set(varEditForm4,true);Set(varEditForm2,false);Form1.Mode.New;ResetForm(Form1)
                        ZIndex: =7

                    Label16 As label:
                        Text: =
                        ZIndex: =8

                Gallery12 As gallery.variableTemplateHeightGallery:
                    DelayItemLoading: =true
                    Items: =Filter(Horarios,Becario.DisplayName=Gallery2.Selected.Becario.DisplayName)
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =287
                    LayoutMinWidth: =300
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplateSize: =280
                    Visible: =varEditForm2
                    ZIndex: =9

                    Container25 As groupContainer.horizontalAutoLayoutContainer:
                        Height: =64
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutMode: =LayoutMode.Auto
                        Width: =Parent.Width-Icon6.Width-35
                        ZIndex: =1

                        Label21 As label:
                            Align: =Align.Center
                            Text: =ThisItem.Dia.Value
                            ZIndex: =1

                        Label22 As label:
                            Align: =Align.Center
                            Text: =ThisItem.HoraInicio.Value
                            ZIndex: =2

                        Label23 As label:
                            Align: =Align.Center
                            Text: =ThisItem.HoraFin.Value
                            ZIndex: =3

                        Label18 As label:
                            Text: =ThisItem.Becario.DisplayName
                            Visible: =false
                            ZIndex: =4

                    Icon6 As icon.Edit:
                        Height: =45
                        Icon: =Icon.Edit
                        OnSelect: =Set(varEditForm4,true);Set(varEditForm2,false);EditForm(Form1)
                        Width: =45
                        X: =852
                        Y: =9
                        ZIndex: =2

                    Icon4 As icon.Trash:
                        Height: =45
                        Icon: =Icon.Trash
                        OnSelect: =Remove(Horarios,Gallery12.Selected)
                        Width: =45
                        X: =795
                        Y: =9
                        ZIndex: =3

                Container9 As groupContainer.verticalAutoLayoutContainer:
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =varEditForm4
                    Width: =Parent.Width
                    ZIndex: =10

                    Form1 As form:
                        DataSource: =Horarios
                        DefaultMode: =FormMode.New
                        FillPortions: =0
                        Height: =250
                        Item: =If(Form1.Mode=FormMode.Edit,LookUp(Horarios,And(Becario.DisplayName=Gallery2.Selected.Becario.DisplayName,Dia.Value=Gallery12.Selected.Dia.Value)))
                        LayoutMinHeight: =250
                        LayoutMinWidth: =400
                        NumberOfColumns: =2
                        Visible: =varEditForm4
                        ZIndex: =1

                        Becario_DataCard2 As typedDataCard.comboBoxEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="Becario"
                            Default: =ThisItem.Becario
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Horarios],DataSourceInfo.DisplayName,"Becario")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue11.Selected
                            Visible: =false
                            Width: =460
                            X: =0
                            Y: =2
                            ZIndex: =1

                            DataCardKey11 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue11 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["Claims"]
                                DisplayMode: =Parent.DisplayMode
                                Items: =Choices([@Horarios].Becario)
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["Claims"]
                                SearchItems: =Choices(Horarios.Becario,DataCardValue11.SearchText)
                                SelectMultiple: =false
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey11.Y + DataCardKey11.Height + 5
                                ZIndex: =2

                            ErrorMessage11 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue11.Y + DataCardValue11.Height
                                ZIndex: =3

                            StarVisible11 As label:
                                Align: =Align.Center
                                Height: =DataCardKey11.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey11.Y
                                ZIndex: =4

                        Becario_DataCard1 As typedDataCard.comboBoxEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="Becario"
                            Default: =ThisItem.Becario
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Horarios],DataSourceInfo.DisplayName,"Becario")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue6.Selected
                            Width: =460
                            X: =0
                            Y: =0
                            ZIndex: =2

                            DataCardKey6 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue6 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["DisplayName"]
                                DisplayMode: =DisplayMode.View
                                Items: =If(Form1.Mode.New,Choices([@Horarios].Becario))
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["DisplayName"]
                                SearchItems: =Search(If(Form1.Mode.New,Choices([@Horarios].Becario)),DataCardValue6.SearchText,"DisplayName")
                                SelectMultiple: =false
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey6.Y + DataCardKey6.Height + 5
                                ZIndex: =2

                            ErrorMessage6 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue6.Y + DataCardValue6.Height
                                ZIndex: =3

                            StarVisible6 As label:
                                Align: =Align.Center
                                Height: =DataCardKey6.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey6.Y
                                ZIndex: =4

                        Dia_DataCard1 As typedDataCard.comboBoxEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="Dia"
                            Default: =ThisItem.Dia
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Horarios],DataSourceInfo.DisplayName,"Dia")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue7.Selected
                            Width: =460
                            X: =1
                            Y: =0
                            ZIndex: =2

                            DataCardKey7 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue7 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["Value"]
                                DisplayMode: =Parent.DisplayMode
                                Items: =Choices([@Horarios].Dia)
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["Value"]
                                SearchItems: =Choices(Horarios.Dia,DataCardValue7.SearchText)
                                SelectMultiple: =false
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey7.Y + DataCardKey7.Height + 5
                                ZIndex: =2

                            ErrorMessage7 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue7.Y + DataCardValue7.Height
                                ZIndex: =3

                            StarVisible7 As label:
                                Align: =Align.Center
                                Height: =DataCardKey7.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey7.Y
                                ZIndex: =4

                        HoraInicio_DataCard1 As typedDataCard.comboBoxEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="HoraInicio"
                            Default: =ThisItem.HoraInicio
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Horarios],DataSourceInfo.DisplayName,"HoraInicio")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue8.Selected
                            Width: =460
                            X: =0
                            Y: =1
                            ZIndex: =2

                            DataCardKey8 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue8 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["Value"]
                                DisplayMode: =Parent.DisplayMode
                                Items: =Choices([@Horarios].HoraInicio)
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["Value"]
                                SearchItems: =Choices(Horarios.HoraInicio,DataCardValue8.SearchText)
                                SelectMultiple: =false
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey8.Y + DataCardKey8.Height + 5
                                ZIndex: =2

                            ErrorMessage8 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue8.Y + DataCardValue8.Height
                                ZIndex: =3

                            StarVisible8 As label:
                                Align: =Align.Center
                                Height: =DataCardKey8.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey8.Y
                                ZIndex: =4

                        HoraFin_DataCard1 As typedDataCard.comboBoxEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="HoraFin"
                            Default: =ThisItem.HoraFin
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Horarios],DataSourceInfo.DisplayName,"HoraFin")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue9.Selected
                            Width: =460
                            X: =1
                            Y: =1
                            ZIndex: =2

                            DataCardKey9 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue9 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["Value"]
                                DisplayMode: =Parent.DisplayMode
                                Items: =Choices([@Horarios].HoraFin)
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["Value"]
                                SearchItems: =Choices(Horarios.HoraFin,DataCardValue9.SearchText)
                                SelectMultiple: =false
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey9.Y + DataCardKey9.Height + 5
                                ZIndex: =2

                            ErrorMessage9 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue9.Y + DataCardValue9.Height
                                ZIndex: =3

                            StarVisible9 As label:
                                Align: =Align.Center
                                Height: =DataCardKey9.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey9.Y
                                ZIndex: =4

                    Container11 As groupContainer.horizontalAutoLayoutContainer:
                        FillPortions: =0
                        Height: =100
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =20
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =50
                        LayoutMode: =LayoutMode.Auto
                        Visible: =varEditForm4
                        ZIndex: =2

                        Button5 As button:
                            Fill: =RGBA(184, 0, 0, 1)
                            OnSelect: |-
                                =Set(varEditForm3, false); 
                                Set(varEditForm4,false);
                                Set(varEditForm2, true);   
                            Text: ="Regresar"
                            ZIndex: =1

                        Button6 As button:
                            Fill: =RGBA(54, 176, 75, 1)
                            OnSelect: |-
                                =Set(Registro,LookUp(Horarios,And(Becario.Email=DataCardValue6.Selected.Email,Dia.Value=DataCardValue7.Selected.Value)));
                                
                                If(IsBlank(Registro),
                                    Patch(Horarios,Defaults(Horarios),
                                        {
                                            Becario:{
                                                'odata.type':"Microsoft.Azure.Conectors.SharePoint.SPListExpandedUser",
                                                Claims:"i:0#.f|membership|"& Lower(DataCardValue11.Selected.Email),
                                                Department:DataCardValue11.Selected.Department,
                                                DisplayName:DataCardValue11.Selected.DisplayName,
                                                Email:DataCardValue11.Selected.Email,
                                                JobTitle:DataCardValue11.Selected.JobTitle,
                                                Picture:DataCardValue11.Selected.Picture
                                            },
                                            Dia:DataCardValue7.Selected,
                                            HoraInicio:DataCardValue8.Selected,
                                            HoraFin:DataCardValue9.Selected
                                        }
                                    )    
                                    ;
                                    Notify("Registro de Horario de Usuario Correcto",NotificationType.Success)
                                   
                                    //If falso
                                    ,
                                    Patch(Horarios,LookUp(Horarios,And(Becario.DisplayName=DataCardValue6.Selected.DisplayName,Dia.Value=DataCardValue7.Selected.Value)),
                                        {
                                            HoraInicio:DataCardValue8.Selected,
                                            HoraFin:DataCardValue9.Selected
                                        }
                                    );
                                    Notify("Actualización de Usuario Correcta",NotificationType.Success)
                                );
                                
                                
                                Gallery1.Selected.id = 3;
                                Refresh(Becarios);
                                Refresh(Bitacora);
                                Refresh(Horarios);
                                Refresh('RegistroEntrada/Salida');
                                Set(varEditForm, false);
                                Set(varEditForm1, false);
                                Set(varEditForm2, true);
                                 Set(varEditForm4,false);
                            Text: ="Actualizar"
                            ZIndex: =2

                Container10 As groupContainer.verticalAutoLayoutContainer:
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =varEditForm3
                    ZIndex: =11

                    Form3 As form:
                        DataSource: =Becarios
                        DefaultMode: =FormMode.New
                        LayoutMinHeight: =250
                        LayoutMinWidth: =400
                        Visible: =varEditForm3
                        ZIndex: =1

                        Becario_DataCard3 As typedDataCard.comboBoxEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="Becario"
                            Default: =ThisItem.Becario
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Becarios],DataSourceInfo.DisplayName,"Becario")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue10.Selected
                            Width: =306
                            X: =0
                            Y: =0
                            ZIndex: =2

                            DataCardKey10 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue10 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["DisplayName"]
                                DisplayMode: =Parent.DisplayMode
                                Items: =Choices([@Becarios].Becario)
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["DisplayName"]
                                SearchItems: =Choices(Becarios.Becario,DataCardValue10.SearchText)
                                SelectMultiple: =false
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey10.Y + DataCardKey10.Height + 5
                                ZIndex: =2

                            ErrorMessage10 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue10.Y + DataCardValue10.Height
                                ZIndex: =3

                            StarVisible10 As label:
                                Align: =Align.Center
                                Height: =DataCardKey10.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey10.Y
                                ZIndex: =4

                        Departamento_DataCard1 As typedDataCard.comboBoxEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="Departamento"
                            Default: =ThisItem.Departamento
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Becarios],DataSourceInfo.DisplayName,"Departamento")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue14.Selected
                            Width: =306
                            X: =1
                            Y: =0
                            ZIndex: =2

                            DataCardKey14 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue14 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["Value"]
                                DisplayMode: =Parent.DisplayMode
                                Items: =Choices([@Becarios].Departamento)
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["Value"]
                                SearchItems: =Choices(Becarios.Departamento,DataCardValue14.SearchText)
                                SelectMultiple: =false
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey14.Y + DataCardKey14.Height + 5
                                ZIndex: =2

                            ErrorMessage14 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue14.Y + DataCardValue14.Height
                                ZIndex: =3

                            StarVisible14 As label:
                                Align: =Align.Center
                                Height: =DataCardKey14.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey14.Y
                                ZIndex: =4

                        IsAdmin_DataCard1 As typedDataCard.toggleEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="IsAdmin"
                            Default: =ThisItem.IsAdmin
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Becarios],DataSourceInfo.DisplayName,"IsAdmin")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =102
                            Required: =false
                            Update: =DataCardValue15.Value
                            Width: =306
                            X: =2
                            Y: =0
                            ZIndex: =2

                            DataCardKey15 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue15 As toggleSwitch:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                Default: =Parent.Default
                                DisplayMode: =Parent.DisplayMode
                                Tooltip: =Parent.DisplayName
                                Width: =170
                                X: =30
                                Y: =DataCardKey15.Y + DataCardKey15.Height + 5
                                ZIndex: =2

                            ErrorMessage15 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue15.Y + DataCardValue15.Height
                                ZIndex: =3

                            StarVisible15 As label:
                                Align: =Align.Center
                                Height: =DataCardKey15.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey15.Y
                                ZIndex: =4

                    Container12 As groupContainer.verticalAutoLayoutContainer:
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =2

                        Button8 As button:
                            Text: ="Agregar"
                            ZIndex: =1

                Container14 As groupContainer.verticalAutoLayoutContainer:
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =varEditForm5
                    ZIndex: =12

                    Form4 As form:
                        DataSource: =Becarios
                        DefaultMode: =FormMode.New
                        Item: =If(Form4.Mode=FormMode.Edit,LookUp(Becarios,And(Becario.Email=Gallery2.Selected.Becario.Email)))
                        LayoutMinHeight: =250
                        LayoutMinWidth: =400
                        NumberOfColumns: =2
                        ZIndex: =2

                        HorasTotales_DataCard1 As typedDataCard.numberEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="HorasTotales"
                            Default: =ThisItem.HorasTotales
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Becarios],DataSourceInfo.DisplayName,"HorasTotales")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =Value(DataCardValue5.Text)
                            Visible: =If(Form4.Mode=FormMode.Edit,true,false)
                            Width: =460
                            X: =1
                            Y: =1
                            ZIndex: =1

                            DataCardKey5 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue5 As text:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                Default: =Parent.Default
                                DelayOutput: =true
                                DisplayMode: =Parent.DisplayMode
                                Format: =TextFormat.Number
                                PaddingLeft: =5
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey5.Y + DataCardKey5.Height + 5
                                ZIndex: =2

                            ErrorMessage5 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue5.Y + DataCardValue5.Height
                                ZIndex: =3

                            StarVisible5 As label:
                                Align: =Align.Center
                                Height: =DataCardKey5.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey5.Y
                                ZIndex: =4

                        MinutosTotales_DataCard1 As typedDataCard.numberEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="MinutosTotales"
                            Default: =ThisItem.MinutosTotales
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Becarios],DataSourceInfo.DisplayName,"MinutosTotales")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =Value(DataCardValue16.Text)
                            Visible: =If(Form4.Mode=FormMode.Edit,true,false)
                            Width: =460
                            X: =0
                            Y: =2
                            ZIndex: =1

                            DataCardKey16 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue16 As text:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                Default: =Parent.Default
                                DelayOutput: =true
                                DisplayMode: =Parent.DisplayMode
                                Format: =TextFormat.Number
                                PaddingLeft: =5
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey16.Y + DataCardKey16.Height + 5
                                ZIndex: =2

                            ErrorMessage16 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue16.Y + DataCardValue16.Height
                                ZIndex: =3

                            StarVisible16 As label:
                                Align: =Align.Center
                                Height: =DataCardKey16.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey16.Y
                                ZIndex: =4

                        Becario_DataCard4 As typedDataCard.comboBoxEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="Becario"
                            Default: =ThisItem.Becario
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Becarios],DataSourceInfo.DisplayName,"Becario")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue13.Selected
                            Width: =460
                            X: =0
                            Y: =0
                            ZIndex: =2

                            DataCardKey13 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue13 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["DisplayName"]
                                DisplayMode: =Parent.DisplayMode
                                Items: =Choices([@Becarios].Becario)
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["DisplayName"]
                                SearchItems: =Choices(Becarios.Becario,DataCardValue13.SearchText)
                                SelectMultiple: =false
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey13.Y + DataCardKey13.Height + 5
                                ZIndex: =2

                            ErrorMessage13 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue13.Y + DataCardValue13.Height
                                ZIndex: =3

                            StarVisible13 As label:
                                Align: =Align.Center
                                Height: =DataCardKey13.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey13.Y
                                ZIndex: =4

                        Departamento_DataCard2 As typedDataCard.comboBoxEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="Departamento"
                            Default: =ThisItem.Departamento
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Becarios],DataSourceInfo.DisplayName,"Departamento")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue19.Selected
                            Width: =460
                            X: =1
                            Y: =0
                            ZIndex: =2

                            DataCardKey19 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue19 As combobox:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                DefaultSelectedItems: =Parent.Default
                                DisplayFields: =["Value"]
                                DisplayMode: =Parent.DisplayMode
                                Items: =Choices([@Becarios].Departamento)
                                PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                SearchFields: =["Value"]
                                SearchItems: =Choices(Becarios.Departamento,DataCardValue19.SearchText)
                                SelectMultiple: =false
                                Tooltip: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardKey19.Y + DataCardKey19.Height + 5
                                ZIndex: =2

                            ErrorMessage19 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue19.Y + DataCardValue19.Height
                                ZIndex: =3

                            StarVisible19 As label:
                                Align: =Align.Center
                                Height: =DataCardKey19.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey19.Y
                                ZIndex: =4

                        IsAdmin_DataCard2 As typedDataCard.toggleEditCard:
                            BorderStyle: =BorderStyle.Solid
                            DataField: ="IsAdmin"
                            Default: =ThisItem.IsAdmin
                            DisplayMode: =Parent.DisplayMode
                            DisplayName: =DataSourceInfo([@Becarios],DataSourceInfo.DisplayName,"IsAdmin")
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =50
                            Required: =false
                            Update: =DataCardValue21.Value
                            Width: =460
                            X: =0
                            Y: =1
                            ZIndex: =2

                            DataCardKey21 As label:
                                AutoHeight: =true
                                Height: =34
                                Text: =Parent.DisplayName
                                Width: =Parent.Width - 60
                                Wrap: =false
                                X: =30
                                Y: =10
                                ZIndex: =1

                            DataCardValue21 As toggleSwitch:
                                BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                Default: =Parent.Default
                                DisplayMode: =Parent.DisplayMode
                                FalseText: ="No"
                                Tooltip: =Parent.DisplayName
                                TrueText: ="Si"
                                Width: =98
                                X: =30
                                Y: =DataCardKey21.Y + DataCardKey21.Height + 5
                                ZIndex: =2

                            ErrorMessage21 As label:
                                AutoHeight: =true
                                Height: =10
                                Live: =Live.Assertive
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Text: =Parent.Error
                                Visible: =Parent.DisplayMode=DisplayMode.Edit
                                Width: =Parent.Width - 60
                                X: =30
                                Y: =DataCardValue21.Y + DataCardValue21.Height
                                ZIndex: =3

                            StarVisible21 As label:
                                Align: =Align.Center
                                Height: =DataCardKey21.Height
                                Text: ="*"
                                Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                Width: =30
                                Wrap: =false
                                Y: =DataCardKey21.Y
                                ZIndex: =4

                    Container17 As groupContainer.horizontalAutoLayoutContainer:
                        LayoutGap: =20
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =3

                        Button7 As button:
                            OnSelect: |-
                                =Gallery1.Selected.id = 3;
                                    Refresh(Becarios);
                                    Refresh(Bitacora);
                                    Refresh(Horarios);
                                    Refresh('RegistroEntrada/Salida');
                                    Set(varEditForm, false);
                                    Set(varEditForm1, false);
                                    Set(varEditForm2, false);
                                    Set(varEditForm3, false);
                                    Set(varEditForm4, false);
                                    Set(varEditForm5, false);
                                    Form5.Mode.New
                            Text: ="Atras"
                            ZIndex: =1

                        Button9 As button:
                            OnSelect: |-
                                =If(!Or(IsBlank(DataCardValue13.Selected.DisplayName),IsBlank(DataCardValue19.Selected.Value)),
                                    Notify("Enviado correctamente",NotificationType.Success,4000);
                                    Patch(Becarios,Defaults(Becarios),
                                        {
                                            Becario:
                                            {
                                                'odata.type':"Microsoft.Azure.Conectors.SharePoint.SPListExpandedUser",
                                                Claims:"i:0#.f|membership|"& Lower(DataCardValue13.Selected.Email),
                                                Department:DataCardValue13.Selected.Department,
                                                DisplayName:DataCardValue13.Selected.DisplayName,
                                                Email:DataCardValue13.Selected.Email,
                                                JobTitle:DataCardValue13.Selected.JobTitle,               
                                                Picture:DataCardValue13.Selected.Picture
                                            },
                                            Departamento:DataCardValue19,
                                            IsAdmin:DataCardValue21.Value
                                                                            
                                        },
                                        Form4.Updates
                                    ),
                                    Notify("Faltan Campos por llenar",NotificationType.Error,4000);
                                )
                            Text: ="Agregar"
                            ZIndex: =2

